<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Codebit: messengerFunctions Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="photo-1.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Codebit
   &#160;<span id="projectnumber">2.3</span>
   </div>
   <div id="projectbrief">Red Social</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">messengerFunctions Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a178c3a93e57e75dd87a5d39112af0b07"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a178c3a93e57e75dd87a5d39112af0b07">__construct</a> (<a class="el" href="classips_registry.html">ipsRegistry</a> $registry)</td></tr>
<tr class="memitem:a38d41f307a550856d8b6200039b28f15"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a38d41f307a550856d8b6200039b28f15">floodControlCheck</a> ()</td></tr>
<tr class="memitem:a0f84ab77b46780194183de19a6091675"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a0f84ab77b46780194183de19a6091675">checkHasHitMax</a> ()</td></tr>
<tr class="memitem:a9407d3fb12ec139d4a59ef7b2894c6e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a9407d3fb12ec139d4a59ef7b2894c6e1">addFolderFilter</a> ($filter)</td></tr>
<tr class="memitem:a56cacd122a53e965f3990dd6b3e7cf0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a56cacd122a53e965f3990dd6b3e7cf0d">fetchUnreadNotifications</a> ($memberID)</td></tr>
<tr class="memitem:a8c0317015f2a60c9db49500b41994ce5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a8c0317015f2a60c9db49500b41994ce5">searchMessages</a> ($memberID, $words, $start=0, $end=50, $folders=array())</td></tr>
<tr class="memitem:a14b642a0b3a73ac6ca4557517ca404cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a14b642a0b3a73ac6ca4557517ca404cf">toggleTopicBlock</a> ($blockID, $blockerID, $topicID, $block)</td></tr>
<tr class="memitem:a295c57457487c17fc5d7ccfb908993c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a295c57457487c17fc5d7ccfb908993c1">toggleNotificationStatus</a> ($memberID, $ids, $notifyStatus='toggle')</td></tr>
<tr class="memitem:a51db64472e330d7d0d5aca42273510cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a51db64472e330d7d0d5aca42273510cb">toggleReadStatus</a> ($memberID, $ids, $markAsRead)</td></tr>
<tr class="memitem:accc1cd7b7c994bfa0d55107ccaff049b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#accc1cd7b7c994bfa0d55107ccaff049b">addTopicParticipants</a> ($topicID, $invitedUsers, $readingMemberID)</td></tr>
<tr class="memitem:ab0519e127ba1dfe0c040ccf7836abb99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#ab0519e127ba1dfe0c040ccf7836abb99">deleteTopics</a> ($memberID, $ids, $rawSQL=NULL, $hardDelete=false)</td></tr>
<tr class="memitem:a368ca869050bf2639ea011e8e925430f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a368ca869050bf2639ea011e8e925430f">moveTopics</a> ($memberID, $ids, $toFolderID)</td></tr>
<tr class="memitem:a1717f702f9e215186f785800edd3fdc3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a1717f702f9e215186f785800edd3fdc3">sendEdit</a> ($fromMemberID, $topicID, $msgID, $msgContent, $options=array())</td></tr>
<tr class="memitem:a97afef19907e7e4d984576e54327fe83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a97afef19907e7e4d984576e54327fe83">sendReply</a> ($fromMemberID, $topicID, $msgContent, $options=array())</td></tr>
<tr class="memitem:ae6c6e7834547e59357eaadc7e209443a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#ae6c6e7834547e59357eaadc7e209443a">sendNewPersonalTopic</a> ($toMemberID, $fromMemberID, $inviteUsers, $msgTitle, $msgContent, $options=array())</td></tr>
<tr class="memitem:a25d2e748b9664337b014e9c9c6dd3838"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a25d2e748b9664337b014e9c9c6dd3838">deleteMessages</a> ($msgIDs=array(), $deletedByMemberID)</td></tr>
<tr class="memitem:a7eb0c03b954bd9d4c6cd090ca163ff08"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a7eb0c03b954bd9d4c6cd090ca163ff08">rebuildTopic</a> ($topicID)</td></tr>
<tr class="memitem:a44850c1cf79cbe35b1bd05526d0fe983"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a44850c1cf79cbe35b1bd05526d0fe983">checkAndReturnInvitedUsers</a> ($names, $member=array(), $current=0)</td></tr>
<tr class="memitem:add622b52d1c60d5d68e12d489c1baf3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#add622b52d1c60d5d68e12d489c1baf3f">getFolderTopicCount</a> ($folderID, $folderData)</td></tr>
<tr class="memitem:a6928b30bf183b1e91c6458a8a30be604"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a6928b30bf183b1e91c6458a8a30be604">rebuildFolderCount</a> ($memberID, $folderAndCount=array(), $save=TRUE, $extraData=array())</td></tr>
<tr class="memitem:a294661a8c3d97cb386fd5afa09f9e4ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a294661a8c3d97cb386fd5afa09f9e4ec">resetMembersAlertCounts</a> ($memberID)</td></tr>
<tr class="memitem:a29c763a37ed22811c774b05c6c2064f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a29c763a37ed22811c774b05c6c2064f8">resetMembersFolderCounts</a> ($memberID)</td></tr>
<tr class="memitem:a6bbad4272b6b9e29e8be12bca9da62d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a6bbad4272b6b9e29e8be12bca9da62d4">resetMembersNewTopicCount</a> ($member)</td></tr>
<tr class="memitem:aa8fc7e73feb085a64f820ac6c19cbfcf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#aa8fc7e73feb085a64f820ac6c19cbfcf">resetMembersTotalTopicCount</a> ($memberID)</td></tr>
<tr class="memitem:ac78c2b0b9cab1a0b5bc2f019d37cd330"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#ac78c2b0b9cab1a0b5bc2f019d37cd330">getPersonalTopicsCount</a> ($memberID, $folderID='', $time=null)</td></tr>
<tr class="memitem:a7bacac514354e3ea2ad4a111806e10a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a7bacac514354e3ea2ad4a111806e10a0">getPersonalTopicsList</a> ($memberID, $folderID, $searchAndSort)</td></tr>
<tr class="memitem:aad0d4cae2235632a4c008e358cc3acf0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#aad0d4cae2235632a4c008e358cc3acf0">fetchConversation</a> ($topicID, $readingMemberID, $filters=array())</td></tr>
<tr class="memitem:a5a3bc8b6c642df9589f03db6b4709a75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a5a3bc8b6c642df9589f03db6b4709a75">implodeFolderData</a> ($folderArray)</td></tr>
<tr class="memitem:af41ccc8fbef27d9e5c9966fdf1a3ee40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#af41ccc8fbef27d9e5c9966fdf1a3ee40">explodeFolderData</a> ($folderData)</td></tr>
<tr class="memitem:a4ccc2da5776a0ae0496bbe54d592a9aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a4ccc2da5776a0ae0496bbe54d592a9aa">blockedByUser</a> ($fromMember, $toMember)</td></tr>
<tr class="memitem:a89e0535fce267441efb0b6e83c31feee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a89e0535fce267441efb0b6e83c31feee">canUsePMSystem</a> ($toMember)</td></tr>
<tr class="memitem:acf9641a05795b288bb190b28dc606f79"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#acf9641a05795b288bb190b28dc606f79">getInvitedUsers</a> ($msg_invite_users)</td></tr>
<tr class="memitem:a2be7754b6735e45276c55848f64b35db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a2be7754b6735e45276c55848f64b35db">withinPMQuota</a> ($member)</td></tr>
<tr class="memitem:a720cdf0b73d9474e2f521e836a889396"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a720cdf0b73d9474e2f521e836a889396">buildMessageTotals</a> ()</td></tr>
<tr class="memitem:aa22f17fe5ffa102bbb1179c5450a0e94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#aa22f17fe5ffa102bbb1179c5450a0e94">canAccessTopic</a> ($memberID, $topicData, $topicParticipants=NULL, $noStrip=FALSE)</td></tr>
<tr class="memitem:a97f89f8b8df0cabf2cd693c14251e5e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a97f89f8b8df0cabf2cd693c14251e5e8">canReplyTopic</a> ($memberID, $topicData, $topicParticipants=NULL)</td></tr>
<tr class="memitem:ad55d146d9b60db91d579f736614edab7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#ad55d146d9b60db91d579f736614edab7">fetchPreviousMsgID</a> ($msgID)</td></tr>
<tr class="memitem:a6cb4468c54e2e8dc078bb77e745e1dea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a6cb4468c54e2e8dc078bb77e745e1dea">fetchMessageData</a> ($topicID, $msgID, $loadMember=FALSE)</td></tr>
<tr class="memitem:ada9530db4c4c3e817e1163a45b487276"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#ada9530db4c4c3e817e1163a45b487276">fetchMessageDataById</a> ($msgID, $loadMember=FALSE)</td></tr>
<tr class="memitem:a8c81ab2b0d397e00a5abc5cbfde897cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a8c81ab2b0d397e00a5abc5cbfde897cd">fetchTopicDataWithMessage</a> ($topicID, $loadMember=FALSE)</td></tr>
<tr class="memitem:a4aff2bae5af4d4424df06d9440dc456c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a4aff2bae5af4d4424df06d9440dc456c">fetchTopicData</a> ($topicID, $loadMember=FALSE)</td></tr>
<tr class="memitem:a68dcbbe9b5928e13c712b32cab3cdac6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a68dcbbe9b5928e13c712b32cab3cdac6">fetchTopicParticipants</a> ($topicID, $parseThem=FALSE)</td></tr>
<tr class="memitem:a82bfa336880008bb5da4e6138b92572f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a82bfa336880008bb5da4e6138b92572f">_formatMessageForSaving</a> ($msgContent)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a863574a14fd47504c6d8f34309e11778"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a863574a14fd47504c6d8f34309e11778"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$_dirData</b> = array()</td></tr>
<tr class="memitem:a0318bf124ee56abb5fc90c4b91ff9c70"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0318bf124ee56abb5fc90c4b91ff9c70"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$_jumpMenu</b></td></tr>
<tr class="memitem:a7912da9fdd922ea27091b772a8311b1b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7912da9fdd922ea27091b772a8311b1b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$_currentFolderID</b></td></tr>
<tr class="memitem:a8c7c49dbcc4808f737c64b30967f51d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c7c49dbcc4808f737c64b30967f51d7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$forceMessageToSend</b> = FALSE</td></tr>
<tr class="memitem:a098ac3e5f9d64d29544757f8029350e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a098ac3e5f9d64d29544757f8029350e3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$exceptionData</b> = array()</td></tr>
<tr class="memitem:a8d5e86069cb3c3d8bd2a480a8dc882ea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d5e86069cb3c3d8bd2a480a8dc882ea"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$messagesPerPage</b> = 20</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1d8020cd88d4e1f0992eb3d5da963b44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a1d8020cd88d4e1f0992eb3d5da963b44">_setMaxMessages</a> ($member)</td></tr>
<tr class="memitem:a18989943767a54b728a6145cff4cfb8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a18989943767a54b728a6145cff4cfb8a">_stripNonActiveParticipants</a> ($topicParticipants)</td></tr>
<tr class="memitem:a411d6d60ed7991dcec4d3f8f73df17a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a411d6d60ed7991dcec4d3f8f73df17a3">_formatMessageForDisplay</a> ($msgContent, $data=array())</td></tr>
<tr class="memitem:af69d32016e0b06a23420f116782ae7e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#af69d32016e0b06a23420f116782ae7e9">_conversationCanEdit</a> ($msg, $topicData, $readingMemberData)</td></tr>
<tr class="memitem:a448d71a7e9f18671ca9cd32cda86fbf8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a448d71a7e9f18671ca9cd32cda86fbf8">_conversationCanDelete</a> ($msg, $topicData, $readingMemberData)</td></tr>
<tr class="memitem:ae661537695248ceea5e794b36a996b0f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#ae661537695248ceea5e794b36a996b0f">_flagForCountReset</a> ($members)</td></tr>
<tr class="memitem:a4a287190d0d2f4397a2eb315ed6fd519"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a4a287190d0d2f4397a2eb315ed6fd519">_makeAttachmentsPermanent</a> ($postKey, $msgID, $topicID)</td></tr>
<tr class="memitem:add95a4da86776704358d4917aba9a62f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#add95a4da86776704358d4917aba9a62f">_flagAsReadForExternals</a> (array $data)</td></tr>
<tr class="memitem:a68edff14a26246ec84e5681962aa7472"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmessenger_functions.html#a68edff14a26246ec84e5681962aa7472">_fetchDefaultFolders</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a531e4a386aaa7f3e06d3642dc38d7e80"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a531e4a386aaa7f3e06d3642dc38d7e80"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$registry</b></td></tr>
<tr class="memitem:a7dc56dc8b18ad37272b56fa7395bedef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7dc56dc8b18ad37272b56fa7395bedef"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$DB</b></td></tr>
<tr class="memitem:ac7c3353107070daa85f641882931b358"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac7c3353107070daa85f641882931b358"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$settings</b></td></tr>
<tr class="memitem:abb35c8495a232b510389fa6d7b15d38a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb35c8495a232b510389fa6d7b15d38a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$request</b></td></tr>
<tr class="memitem:a7714b111b644017933931ec69a154102"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7714b111b644017933931ec69a154102"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$lang</b></td></tr>
<tr class="memitem:a5e1c849c6148a8732eee400fcee0d044"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5e1c849c6148a8732eee400fcee0d044"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$member</b></td></tr>
<tr class="memitem:ae9d848ba2cf6eee63bdc060e2dfcf95a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9d848ba2cf6eee63bdc060e2dfcf95a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$memberData</b></td></tr>
<tr class="memitem:ac2dc76d756ec398393d4b1d23659276c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac2dc76d756ec398393d4b1d23659276c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$cache</b></td></tr>
<tr class="memitem:a0334a912b7c2d39a9bc71177578d782e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0334a912b7c2d39a9bc71177578d782e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$caches</b></td></tr>
<tr class="memitem:a4b47c39ae46e62a4212acf7b6958f9e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b47c39ae46e62a4212acf7b6958f9e1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$_folderFilter</b> = ''</td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a178c3a93e57e75dd87a5d39112af0b07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classips_registry.html">ipsRegistry</a>&#160;</td>
          <td class="paramname"><em>$registry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$registry</td><td>Registry object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><em>void</em> </dd></dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a448d71a7e9f18671ca9cd32cda86fbf8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_conversationCanDelete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$readingMemberData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determines whether the message can be deleted</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Message data </td></tr>
    <tr><td class="paramname">array</td><td>Topic data </td></tr>
    <tr><td class="paramname">array</td><td>Reading member data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="af69d32016e0b06a23420f116782ae7e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_conversationCanEdit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$readingMemberData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determines whether the message can be edited</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Message data </td></tr>
    <tr><td class="paramname">array</td><td>Topic data </td></tr>
    <tr><td class="paramname">array</td><td>Reading member data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="a68edff14a26246ec84e5681962aa7472"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_fetchDefaultFolders </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default folder for people won't don't have any</p>
<dl class="section return"><dt>Returns:</dt><dd>array </dd></dl>

</div>
</div>
<a class="anchor" id="add95a4da86776704358d4917aba9a62f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_flagAsReadForExternals </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Flag external stuff </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae661537695248ceea5e794b36a996b0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_flagForCountReset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$members</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Flag members for a PC count reset</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Array of MEMBER ids </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="a411d6d60ed7991dcec4d3f8f73df17a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_formatMessageForDisplay </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgContent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Function to format the actual message (applies BBcode, etc)</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>Raw text </td></tr>
    <tr><td class="paramname">array</td><td>PM data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>string Processed text </dd></dl>

</div>
</div>
<a class="anchor" id="a82bfa336880008bb5da4e6138b92572f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_formatMessageForSaving </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgContent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Format Post: Converts BBCode, smilies, etc</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>Raw Post </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>string Formatted Post </dd></dl>
<dl class="section author"><dt>Author:</dt><dd>MattMecham </dd></dl>

</div>
</div>
<a class="anchor" id="a4a287190d0d2f4397a2eb315ed6fd519"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_makeAttachmentsPermanent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$postKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Makes attachments permananent</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>Post Key </td></tr>
    <tr><td class="paramname">int</td><td>Msg ID </td></tr>
    <tr><td class="paramname">int</td><td>Topic ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>int </dd></dl>

</div>
</div>
<a class="anchor" id="a1d8020cd88d4e1f0992eb3d5da963b44"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_setMaxMessages </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$member</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the max PMs allowed based on primary and seconday groups</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Array of member data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Member data </dd></dl>

</div>
</div>
<a class="anchor" id="a18989943767a54b728a6145cff4cfb8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_stripNonActiveParticipants </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicParticipants</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Strip away non-active participants</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Array of current topic participants (as returned by fetchTopicParticipants) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array </dd></dl>

</div>
</div>
<a class="anchor" id="a9407d3fb12ec139d4a59ef7b2894c6e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">addFolderFilter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a folder filter Mostly used for myconvo but added here for extensibility in the future</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><em>void</em> </dd></dl>

</div>
</div>
<a class="anchor" id="accc1cd7b7c994bfa0d55107ccaff049b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">addTopicParticipants </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$invitedUsers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$readingMemberID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add participants to a topic</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Topic ID </td></tr>
    <tr><td class="paramname">array</td><td>Array of IDs to invite </td></tr>
    <tr><td class="paramname">int</td><td>Member adding them (ie you) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>mixed bool or exception</dd></dl>
<p><code> EXCEPTION CODES: NO_PERMISSION User does not have permission to access this topic NOT_ALL_INVITE_USERS_EXIST Not all the users you've invited exist INVITE_USERS_BLOCKED Some of the users you've invited are blocked NO_ONE_TO_INVITE No one left to invite CANT_INVITE_SELF: The sender is in the invite list CANT_INVITE_RECIPIENT: The main recipient is in the invite list CANT_INVITE_RECIPIENT_EXIST: One or more recipients are already participating in this conversation </code> </p>

</div>
</div>
<a class="anchor" id="a4ccc2da5776a0ae0496bbe54d592a9aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blockedByUser </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fromMember</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$toMember</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Have we been blocked?</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Person A: Array of member data (core + groups required) OR member ID </td></tr>
    <tr><td class="paramname">array</td><td>[Array of] member IDs to check 'person A' has been blocked by them. Array of member data (core + groups required) OR member ID OR array of IDs </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array </dd></dl>

</div>
</div>
<a class="anchor" id="a720cdf0b73d9474e2f521e836a889396"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">buildMessageTotals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds the data for the messenger storage block</p>
<dl class="section return"><dt>Returns:</dt><dd>array </dd></dl>

</div>
</div>
<a class="anchor" id="aa22f17fe5ffa102bbb1179c5450a0e94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">canAccessTopic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicParticipants</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$noStrip</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test to see whether or not we are allowed in this PM topic</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Member ID to test against </td></tr>
    <tr><td class="paramname">mixed</td><td>Topic ID or array of topic data </td></tr>
    <tr><td class="paramname">array</td><td>[ topic participants. If omitted, participants are loaded ] </td></tr>
    <tr><td class="paramname">boolean</td><td>Do not strip non-active users </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="a97f89f8b8df0cabf2cd693c14251e5e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">canReplyTopic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicParticipants</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines whether the conversation can be replied to</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Member ID to test against </td></tr>
    <tr><td class="paramname">mixed</td><td>Topic ID or array of topic data </td></tr>
    <tr><td class="paramname">array</td><td>[ topic participants. If omitted, participants are loaded ] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="a89e0535fce267441efb0b6e83c31feee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">canUsePMSystem </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$toMember</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Can we use the PM system?</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Array of member data (core + groups required) OR member ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>boolean TRUE is OK </dd></dl>

</div>
</div>
<a class="anchor" id="a44850c1cf79cbe35b1bd05526d0fe983"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">checkAndReturnInvitedUsers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$member</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$current</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate a 'definitive" list of invite users from an array of names</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Array of display names [ 'bob', 'joe', 'dave' ] </td></tr>
    <tr><td class="paramname">array</td><td>Optional[ Array of member data (group + core only required) ] </td></tr>
    <tr><td class="paramname">int</td><td>Number of existing participants </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Array of members, indexed by member_id</dd></dl>
<p><code> Exception Codes: NOT_ALL_INVITE_USERS_EXIST: Not all invite users exist (check $this-&gt;exceptionData for a list of names) NOT_ALL_INVITE_USERS_CAN_PM: Not all invite users can PM (check $this-&gt;exceptionData for a list of names) INVITE_USERS_BLOCKED: Some invite users have been blocked (check $this-&gt;exceptionData for a list of names) </code> </p>

</div>
</div>
<a class="anchor" id="a0f84ab77b46780194183de19a6091675"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">checkHasHitMax </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check number of messages sent today vs your max per day setting</p>
<dl class="section return"><dt>Returns:</dt><dd>bool Can send more </dd></dl>

</div>
</div>
<a class="anchor" id="a25d2e748b9664337b014e9c9c6dd3838"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">deleteMessages </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgIDs</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$deletedByMemberID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete messages from a topic</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Array of message IDs to remove </td></tr>
    <tr><td class="paramname">int</td><td>Deleted by member ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>boolean Deleted </dd></dl>

</div>
</div>
<a class="anchor" id="ab0519e127ba1dfe0c040ccf7836abb99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">deleteTopics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rawSQL</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$hardDelete</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete personal topics</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Owner Member ID </td></tr>
    <tr><td class="paramname">array</td><td>Array of IDs to delete </td></tr>
    <tr><td class="paramname">string</td><td>[ Raw SQL to query on when selecting messages to delete, optional ] </td></tr>
    <tr><td class="paramname">bool</td><td>Force hard delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>mixed bool or exception</dd></dl>
<p><code> Exception Codes: NO_SUCH_MEMBER: The member ID does not exist NO_IDS_TO_DELETE: No IDs to delete (empty id array) </code> </p>

</div>
</div>
<a class="anchor" id="af41ccc8fbef27d9e5c9966fdf1a3ee40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">explodeFolderData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$folderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Explodes" folder string</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>Raw folder data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Array indexed by 'id' =&gt; [ 'id' =&gt; string, 'real' =&gt; string, 'count' =&gt; int ] </dd></dl>

</div>
</div>
<a class="anchor" id="aad0d4cae2235632a4c008e358cc3acf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fetchConversation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$readingMemberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filters</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a complete topic</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Member ID </td></tr>
    <tr><td class="paramname">string</td><td>Folder ID (eg: inbox, sent, etc) </td></tr>
    <tr><td class="paramname">array</td><td>Array of data ( array[ sort =&gt; '', offsetStart' =&gt; '', 'offsetEnd' =&gt; '' ) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Array of PMs indexed by PM ID</dd></dl>
<p><code> Exception Codes NO_READ_PERMISSION You do not have permission to read the topic YOU_ARE_BANNED You have been banned </code> </p>

</div>
</div>
<a class="anchor" id="a6cb4468c54e2e8dc078bb77e745e1dea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fetchMessageData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$loadMember</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch Message Data</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Topic ID </td></tr>
    <tr><td class="paramname">int</td><td>Msg ID </td></tr>
    <tr><td class="paramname">boolean</td><td>Load starter member data with it </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Message data </dd></dl>

</div>
</div>
<a class="anchor" id="ada9530db4c4c3e817e1163a45b487276"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fetchMessageDataById </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$loadMember</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch Message Data by ID</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Msg ID </td></tr>
    <tr><td class="paramname">boolean</td><td>Load starter member data with it </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Message data </dd></dl>

</div>
</div>
<a class="anchor" id="ad55d146d9b60db91d579f736614edab7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fetchPreviousMsgID </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find the previous PID</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Msg ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>int Previous Msg ID </dd></dl>

</div>
</div>
<a class="anchor" id="a4aff2bae5af4d4424df06d9440dc456c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fetchTopicData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$loadMember</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch topic Data</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Topic ID </td></tr>
    <tr><td class="paramname">boolean</td><td>Load starter member data with it </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Topic data </dd></dl>

</div>
</div>
<a class="anchor" id="a8c81ab2b0d397e00a5abc5cbfde897cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fetchTopicDataWithMessage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$loadMember</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch topic Data with first message information</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Topic ID </td></tr>
    <tr><td class="paramname">boolean</td><td>Load starter member data with it </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Topic + message data </dd></dl>

</div>
</div>
<a class="anchor" id="a68dcbbe9b5928e13c712b32cab3cdac6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fetchTopicParticipants </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$parseThem</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch the topic participants</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Topic ID </td></tr>
    <tr><td class="paramname">boolean</td><td>Load and parse member data (TRUE for yes, FALSE for no) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Array of member data indexed by member ID </dd></dl>

</div>
</div>
<a class="anchor" id="a56cacd122a53e965f3990dd6b3e7cf0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fetchUnreadNotifications </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch new PM notification</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Member ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Array of data </dd></dl>

</div>
</div>
<a class="anchor" id="a38d41f307a550856d8b6200039b28f15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">floodControlCheck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flood control check</p>
<dl class="section return"><dt>Returns:</dt><dd>bool (return TRUE for OK to continue, FALSE for flood stopped) Also populates $this-&gt;exceptionData[0] with time that next PM can be made </dd></dl>

</div>
</div>
<a class="anchor" id="add622b52d1c60d5d68e12d489c1baf3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getFolderTopicCount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$folderID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$folderData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns number of messages based on folders not a SQL search</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>ID of folder to get count from </td></tr>
    <tr><td class="paramname">string</td><td>Folder data line </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>int Count </dd></dl>

</div>
</div>
<a class="anchor" id="acf9641a05795b288bb190b28dc606f79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getInvitedUsers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msg_invite_users</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get invite users Does this PM have any invite users attached? Mainly used to detect IPB 3.0.0 methods over previous methods</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>Raw data from DB (msg_cc_users) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Array of IDs </dd></dl>

</div>
</div>
<a class="anchor" id="ac78c2b0b9cab1a0b5bc2f019d37cd330"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPersonalTopicsCount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$folderID</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$time</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns PM count on spec</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Member ID </td></tr>
    <tr><td class="paramname">string</td><td>Folder ID (eg: inbox, sent, etc) [ Optional, if omitted, all msg box counts are returned ] </td></tr>
    <tr><td class="paramname">int</td><td>Timestamp to check from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>mixed If folder ID: Number of messages, otherwise an array of folderID =&gt; count </dd></dl>

</div>
</div>
<a class="anchor" id="a7bacac514354e3ea2ad4a111806e10a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPersonalTopicsList </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$folderID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$searchAndSort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns PM data based on spec</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Member ID </td></tr>
    <tr><td class="paramname">string</td><td>Folder ID (eg: inbox, sent, etc) </td></tr>
    <tr><td class="paramname">array</td><td>Array of data ( array[ 'sort' =&gt; '', offsetStart' =&gt; '', 'offsetEnd' =&gt; '' ) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Array of PMs indexed by PM ID </dd></dl>

</div>
</div>
<a class="anchor" id="a5a3bc8b6c642df9589f03db6b4709a75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">implodeFolderData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$folderArray</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Implode" folder string</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Array indexed by 'id' =&gt; [ 'id' =&gt; string, 'real' =&gt; string, 'count' =&gt; int ] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>string Formed folder string </dd></dl>

</div>
</div>
<a class="anchor" id="a368ca869050bf2639ea011e8e925430f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moveTopics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$toFolderID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves messages into another folder</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Owner Member ID </td></tr>
    <tr><td class="paramname">array</td><td>Array of IDs to move </td></tr>
    <tr><td class="paramname">string</td><td>'id' of folder to move to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>mixed bool or exception</dd></dl>
<p><code> Exception Codes: NO_SUCH_MEMBER: The member ID does not exist NO_SUCH_FOLDER: Folder you are attemting to move to does not exist NO_IDS_TO_MOVE No IDs to move (empty id array) </code> </p>

</div>
</div>
<a class="anchor" id="a6928b30bf183b1e91c6458a8a30be604"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rebuildFolderCount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$folderAndCount</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$save</em> = <code>TRUE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extraData</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rebuild directory count</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Member ID </td></tr>
    <tr><td class="paramname">string</td><td>Folder ID to rebuild </td></tr>
    <tr><td class="paramname">int</td><td>Count of messages </td></tr>
    <tr><td class="paramname">boolean</td><td>Flag; do not save to DB [True is default] </td></tr>
    <tr><td class="paramname">array</td><td>Array of extra data for passing to <a class="el" href="class_i_p_s_member.html#a7c06386354afbc99ffaf6a8db2c412bf">IPSMember::save()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>string Rebuilt 'vdir' string </dd></dl>

</div>
</div>
<a class="anchor" id="a7eb0c03b954bd9d4c6cd090ca163ff08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rebuildTopic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rebuild a PM topic</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Topic ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="a294661a8c3d97cb386fd5afa09f9e4ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">resetMembersAlertCounts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets alert / count flag </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$memberID</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a29c763a37ed22811c774b05c6c2064f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">resetMembersFolderCounts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset all folder counts</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Member ID to reset </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="a6bbad4272b6b9e29e8be12bca9da62d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">resetMembersNewTopicCount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$member</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets a user(s) new message count</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mixed</td><td>Either INT member ID or ARRAY of member IDs </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="aa8fc7e73feb085a64f820ac6c19cbfcf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">resetMembersTotalTopicCount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets a members total message count</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Member ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>int Message count </dd></dl>

</div>
</div>
<a class="anchor" id="a8c0317015f2a60c9db49500b41994ce5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">searchMessages </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$words</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$start</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$end</em> = <code>50</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$folders</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search messages Searches messages. It really does.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Member ID who be searching! </td></tr>
    <tr><td class="paramname">string</td><td>Words to search (probably tainted at this point, so be careful!) </td></tr>
    <tr><td class="paramname">int</td><td>Offset start </td></tr>
    <tr><td class="paramname">int</td><td>Number of results to return </td></tr>
    <tr><td class="paramname">array</td><td>Array of folders to search (send nothing to search all) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array array( 'totalMatches' =&gt; int, 'results' =&gt; Array of topics that match the search words ) </dd></dl>

</div>
</div>
<a class="anchor" id="a1717f702f9e215186f785800edd3fdc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sendEdit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fromMemberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgContent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$options</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Edits a message</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>FROM Member ID </td></tr>
    <tr><td class="paramname">int</td><td>Topic ID </td></tr>
    <tr><td class="paramname">int</td><td>Msg ID </td></tr>
    <tr><td class="paramname">string</td><td>Message Content </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>mixed TRUE or FALSE or Exception</dd></dl>
<p><code> Exception Codes: MSG_CONTENT_EMPTY: The 'msgContent' varable is empty NO_SUCH_TOPIC: No such topic was found NO_PERMISSION: No permission to read/reply NO_EDIT_PERMISSION: No permission to edit TOPIC_HAS_BEEN_DELETED: Topic has been "deleted" by the topic starter </code> </p>

</div>
</div>
<a class="anchor" id="ae6c6e7834547e59357eaadc7e209443a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sendNewPersonalTopic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$toMemberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fromMemberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$inviteUsers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgTitle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgContent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$options</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a new personal message. Very simple.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>TO Member ID </td></tr>
    <tr><td class="paramname">int</td><td>FROM Member ID </td></tr>
    <tr><td class="paramname">array</td><td>Array of InviteUser Names (display name) </td></tr>
    <tr><td class="paramname">string</td><td>Message Title </td></tr>
    <tr><td class="paramname">string</td><td>Message Content </td></tr>
    <tr><td class="paramname">array</td><td>Options array[ 'isSystem' (if true, then user will have no record of sending this PM) postKey, 'isDraft', 'sendMode' (invite/copy), 'topicID' ] If a topicID is passed, it's presumed that it was a draft.... </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>mixed TRUE or FALSE or Exception</dd></dl>
<p><code> Exception Codes: TOPIC_ID_NOT_EXISTS: Topic ID does not exist (re-sending a draft) NOT_ALL_INVITE_USERS_EXIST: Not all invite users exist (check $this-&gt;exceptionData for a list of names) NOT_ALL_INVITE_USERS_CAN_PM: Not all invite users can PM (check $this-&gt;exceptionData for a list of names) INVITE_USERS_BLOCKED: Some invite users have been blocked (check $this-&gt;exceptionData for a list of names) TO_USER_DOES_NOT_EXIST: The 'to' user ID does not exist FROM_USER_DOES_NOT_EXIST: The 'from' user ID does not exist TO_USER_CANNOT_USE_PM: The 'to' user does not have access to PM system TO_USER_FULL: The 'to' user cannot accept any more PMs (inbox full) FROM_USER_BLOCKED: The 'from' user has been blocked by the 'to' user CANNOT_SAVE_TO_SENT_FOLDER: The 'from' user does not have space to store a copy of the message in their sent folder MSG_TITLE_EMPTY: The 'msgTitle' variable is empty MSG_CONTENT_EMPTY: The 'msgContent' varable is empty CANT_SEND_TO_SELF: The main recipient and sender are the same CANT_INVITE_SELF: The sender is in the invite list CANT_INVITE_RECIPIENT: The main recipient is in the invite list FLOOD_STOP Flood control will not allow this message to send </code> </p>
<p><a class="el" href="">todo 12. </a></p>

</div>
</div>
<a class="anchor" id="a97afef19907e7e4d984576e54327fe83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sendReply </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fromMemberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msgContent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$options</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a reply to a PM</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>FROM Member ID </td></tr>
    <tr><td class="paramname">int</td><td>Topic ID </td></tr>
    <tr><td class="paramname">string</td><td>Message Content </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>mixed Msg ID or exception</dd></dl>
<p><code> Exception Codes: MSG_CONTENT_EMPTY: The 'msgContent' varable is empty NO_SUCH_TOPIC: No such topic was found NO_PERMISSION: No permission to read/reply TOPIC_HAS_BEEN_DELETED: Topic has been "deleted" by the topic starter TOPIC_IS_SYSTEM: This is a system topic and cannot be replied to FROM_USER_BLOCKED: Cannot send as starter has blocked fromMemberID </code> </p>
<p><a class="el" href="">http://community.invisionpower.com/tracker/issue-37272-pm-notification-counter-not-increasing/page__catfilter__1</a></p>

</div>
</div>
<a class="anchor" id="a295c57457487c17fc5d7ccfb908993c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">toggleNotificationStatus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$notifyStatus</em> = <code>'toggle'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Toggles notifications</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Owner Member ID </td></tr>
    <tr><td class="paramname">array</td><td>Array of IDs to toggle read / unread </td></tr>
    <tr><td class="paramname">boolean</td><td>TRUE notify on / FALSE notify off </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>bool</dd></dl>
<p><code> Exception Codes: NO_SUCH_MEMBER: The member ID does not exist NO_IDS_SELECTED No IDs to move (empty id array) </code> </p>

</div>
</div>
<a class="anchor" id="a51db64472e330d7d0d5aca42273510cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">toggleReadStatus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$memberID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$markAsRead</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Toggles read/unread status</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Owner Member ID </td></tr>
    <tr><td class="paramname">array</td><td>Array of IDs to toggle read / unread </td></tr>
    <tr><td class="paramname">boolean</td><td>TRUE mark as read / FALSE mark as unread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>bool</dd></dl>
<p><code> Exception Codes: NO_SUCH_MEMBER: The member ID does not exist NO_IDS_SELECTED No IDs to move (empty id array) </code> </p>

</div>
</div>
<a class="anchor" id="a14b642a0b3a73ac6ca4557517ca404cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">toggleTopicBlock </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$blockID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$blockerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$topicID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Block / unblock a member</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Member ID to block </td></tr>
    <tr><td class="paramname">int</td><td>Member ID who is attempting to block </td></tr>
    <tr><td class="paramname">int</td><td>Topic ID to apply block to </td></tr>
    <tr><td class="paramname">boolean</td><td>TRUE is block, FALSE is unblock </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><em>void</em> </dd></dl>
<p><code> Exception Codes: NO_PERMISSION User does not have permission to access this topic NO_BLOCK_PERMISSION User does not have the ability to block anyone CANNOT_BLOCK_STARTER Cannot (un)block the topic starter, that's just plain mean! CANNOT_BLOCK_USER Cannot (un)block the member because they either are not involved with that topic or they cannot be blocked </code> </p>

</div>
</div>
<a class="anchor" id="a2be7754b6735e45276c55848f64b35db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">withinPMQuota </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$member</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Have we exceeded our PM quota?</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Array of member data (core + groups required) OR member ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>boolean TRUE is OK (within quota) </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/usr/local/apache2/htdocs/codebit_org/htdocs/admin/applications/members/sources/classes/messaging/messengerFunctions.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 10 2012 23:59:05 for Codebit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
